<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Billing System - Professional Billing Solution</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/script.js" defer></script>
</head>
<body>
    <!-- Home Page -->
    <div id="homePage" class="home-page">
        <!-- Navigation -->
        <nav class="navbar">
  <div class="nav-container">
    <div class="logo">
      <img src="/images/logo.png" alt="Smart Billing Logo">
    </div>

    <!-- Hamburger for mobile -->
    <div class="hamburger-menu" onclick="toggleMobileMenu()">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <!-- MOBILE MENU -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
      <ul class="nav-links">
        <li><a href="#home" onclick="closeMobileMenu()">Home</a></li>
        <li><a href="#features" onclick="closeMobileMenu()">Features</a></li>
        <li><a href="#about" onclick="closeMobileMenu()">About</a></li>
        <li><a href="#contact" onclick="closeMobileMenu()">Contact</a></li>

        <div id="mobileAuthButtons">
          <li><a href="/registration.html" class="login-btn" onclick="closeMobileMenu()">Login / Register</a></li>
        </div>

        <div id="mobileUserButtons" style="display: none;">
          <li><a href="#" class="customer-data-btn" onclick="handleMobileCustomerData()">Customer Data</a></li>
          <li><a href="#" class="sales-report-btn" onclick="handleMobileSalesReport()">Sales Report</a></li>
          <li><a href="#" class="add-stock-btn" onclick="handleMobileStock()">Stock</a></li>
          <li><a href="#" class="start-billing-btn" onclick="handleMobileStartBilling()">Start Billing</a></li>
          <li><a href="#" class="logout-btn" onclick="handleLogout()">Logout</a></li>
        </div>
      </ul>
    </div>

    <!-- DESKTOP MENU -->
    <ul class="nav-links desktop-nav">
      <li><a href="#home">Home</a></li>
      <li><a href="#features">Features</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#contact">Contact</a></li>

      <div id="desktopAuthButtons" style="margin-left: auto;">
        <li><a href="/registration.html" class="login-btn">Login / Register</a></li>
      </div>

      <div id="desktopUserButtons" style="display: none; margin-left: auto;">
        <li><a href="#" class="customer-data-btn" onclick="showCustomerData()">Customer Data</a></li>
        <li><a href="#" class="sales-report-btn" onclick="showSalesReport()">Sales Report</a></li>
        <li><a href="#" class="add-stock-btn" onclick="showStock()">Stock</a></li>
        <li><a href="#" class="start-billing-btn" onclick="showBillingApp()">Start Billing</a></li>
        <li><a href="#" class="logout-btn" onclick="handleLogout()">Logout</a></li>
      </div>
    </ul>
  </div>
</nav>



        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="hero-container">
                <div class="hero-content">
                    <h1>Smart Billing Made Simple</h1>
                    <p>Professional billing system with PDF generation and WhatsApp integration. Streamline your business operations with our modern billing solution.</p>
                    <div class="hero-buttons">
                        <button id="startBillingBtn" class="btn-primary" onclick="showBillingApp()">Start Billing Now</button>
                        <a href="#features" class="btn-secondary">Learn More</a>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="dashboard-preview">
                        <div style="width: 300px; height: 200px; background: rgba(255,255,255,0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.2rem;">
                            📊 Billing Dashboard
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features">
            <div class="features-container">
                <div class="section-title">
                    <h2>Powerful Features</h2>
                    <p>Everything you need to manage your billing efficiently and professionally</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">📄</div>
                        <h3>PDF Generation</h3>
                        <p>Generate professional invoices in PDF format with company branding, customer details, and itemized billing information.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">💬</div>
                        <h3>WhatsApp Integration</h3>
                        <p>Send bills directly to customers via WhatsApp with formatted messages including all purchase details and totals.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">💰</div>
                        <h3>Real-time Calculations</h3>
                        <p>Automatic calculation of totals, taxes, and discounts with real-time updates as you add or remove items from the bill.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">👥</div>
                        <h3>Customer Management</h3>
                        <p>Store customer information including contact details and purchase history for better customer relationship management.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <h3>Modern Interface</h3>
                        <p>Clean, intuitive design that works seamlessly on desktop and mobile devices with responsive layout and smooth animations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">🛒</div>
                        <h3>Stock Management</h3>
                        <p>Efficiently manage your inventory with our comprehensive stock tracking system for better business control.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Us Section -->
        <section id="about" class="about">
            <div class="about-container">
                <div class="section-title">
                    <h2>About Smart Billing</h2>
                    <p>Discover our journey and commitment to revolutionizing billing solutions</p>
                </div>
                <div class="about-content">
                    <div class="about-text">
                        <h3>Our Mission</h3>
                        <p>At Smart Billing, we are dedicated to simplifying business operations through innovative billing technology. Our mission is to empower businesses of all sizes with efficient, user-friendly tools that enhance productivity and customer satisfaction.</p>
                        <h3>Our Story</h3>
                        <p>Founded in 2020, Smart Billing started with a vision to address the complexities of traditional billing systems. Our team of passionate developers and business experts created a platform that integrates PDF generation and WhatsApp communication to streamline invoicing processes.</p>
                        <h3>Why Choose Us?</h3>
                        <ul>
                            <li><strong>Innovation: </strong>smart edge features</li>
                            <li><strong>Support: </strong>Reliable support</li>
                            <li><strong>Scalability: </strong> scalable for growth</li>
                        </ul>
                        <a href="#contact" class="about-btn">Get in Touch</a>
                    </div>
                    <div class="about-visual">
                        <img class="about-image" src="/images/image1.jpg" alt="Smart Billing Dashboard" width="500" height="650">
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="stats">
            <div class="stats-container">
                <div class="stat-item">
                    <h3>99%</h3>
                    <p>Accuracy Rate</p>
                </div>
                <div class="stat-item">
                    <h3>50%</h3>
                    <p>Time Saved</p>
                </div>
                <div class="stat-item">
                    <h3>24/7</h3>
                    <p>Available</p>
                </div>
                <div class="stat-item">
                    <h3>1000+</h3>
                    <p>Happy Users</p>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta">
            <div class="cta-container">
                <h2>Ready to Transform Your Billing?</h2>
                <p>Join thousands of businesses already using our smart billing system to streamline their operations and improve customer satisfaction.</p>
                <button id="getStartedBtn" class="btn-primary" onclick="showBillingApp()">Get Started Today</button>
            </div>
        </section>


        <!-- Footer -->
        <footer id="contact" class="footer">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section">
                        <h3>Smart Billing System</h3>
                        <p>Professional billing solution for modern businesses. Streamline your operations with our advanced features.</p>
                    </div>
                    <div class="footer-section">
                        <h3>Features</h3>
                        <p><a href="#features">PDF Generation</a></p>
                        <p><a href="#features">WhatsApp Integration</a></p>
                        <p><a href="#features">Customer Management</a></p>
                        <p><a href="#features">Stock Management</a></p>
                    </div>
                    <div class="footer-section">
                        <h3>Contact</h3>
                        <p>Email: info@smartbilling.com</p>
                        <p>Phone: +91 9876543210</p>
                        <p>Address: 123 Business Street, City</p>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>© 2025 Smart Billing System. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Billing Application -->
    <div id="billingApp" class="billing-app">
        <div class="billing-container">
            <img src="/images/logo.png" alt="Dip Dips Logo" class="billing-logo">
            <button class="back-btn" onclick="showHomePage()">← Back to Home</button>
            
            <div class="billing-header">
                <h1>INVOICE</h1>
                <h2 id="franchisee-info">Dipdips Franchisee: <span id="franchiseName"></span></h2>
            </div>

            <div class="customer-section">
                <h2>Customer Information</h2>
                <div class="customer-form">
                    <div class="form-group">
                        <label for="customerPhone">WhatsApp Number</label>
                        <input type="tel" id="customerPhone" placeholder="Enter WhatsApp number" autocomplete="off">
                    </div>
                    <div class="form-group">
                        <label for="customerName">Customer Name</label>
                        <input type="text" id="customerName" placeholder="Enter customer name" autocomplete="off">
                    </div>
                </div>
            </div>

            <div class="billing-section">
                <div class="section">
                    <h2>Add Items</h2>
                    <div id="addItemForm" class="add-item-form">
                        <div class="form-group">
                            <label for="itemName">Item Name</label>
                            <input type="text" id="itemName" placeholder="Enter item name" autocomplete="off">
                            <div id="itemNameDropdown" class="autocomplete-dropdown" style="position:relative;"></div>
                        </div>
                        <div class="form-group">
                            <label for="itemQuantity">Quantity</label>
                            <input type="number" id="itemQuantity" value="1" min="1">
                        </div>
                        <div class="form-actions">
                            <button class="btn" onclick="addItem()">Submit</button>
                        </div>
                    </div>
                    <div id="addAnotherItemBtn" class="add-another-item" style="display: none;">
                        <button class="btn btn-primary" onclick="showAddItemForm()">+ Add Another Item</button>
                    </div>
                </div>

                <div class="section">
                    <h2>Bill Items</h2>
                    <table class="items-table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th>MRP (₹)</th>
                                <th>Quantity</th>
                                <th>Total (₹)</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="itemsTableBody">
                            <!-- Items will be added here -->
                        </tbody>
                    </table>
                    <div class="bill-summary-row" style="display: flex; gap: 2rem; align-items: center; margin: 20px 0 0 0;">
                        <div class="service-charges-display" style="font-weight: 600;">
                            Service Charges: ₹<span id="serviceCharges">0.00</span>
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label for="billDiscount">Discount (₹)</label>
                            <input type="number" id="billDiscount" value="0" min="0" style="width: 120px;">
                        </div>
                    </div>
                    
                    <div class="total-section">
                        <h3>Total Amount: ₹<span id="totalAmount">0.00</span></h3>
                        <p>Items: <span id="totalItems">0</span></p>
                    </div>
                </div>
            </div>

            <div class="actions">
                <button class="btn btn-warning" onclick="sendWhatsApp()">Send via WhatsApp</button>
                <button class="btn btn-danger" onclick="clearAll()">Clear All</button>
            </div>

            <div id="messages"></div>
        </div>
    </div>

    <!-- Customer Data Section -->
    <div id="customerDataSection" class="app-section" style="display:none; padding: 2rem;">
        <h2>Customer Data</h2>
        <table class="items-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>WhatsApp Number</th>
                    <th>Last Purchase Date</th>
                    <th>Total Bills</th>
                    <th>Total Value So Far (₹)</th>
                </tr>
            </thead>
            <tbody id="customerDataTableBody">
                <!-- Populated by JS -->
            </tbody>
        </table>
        <button class="btn" onclick="showHomePage()">Back to Home</button>
    </div>

    <!-- Sales Report Section -->
    <div id="salesReportSection" class="app-section" style="display:none; padding: 2rem;">
        <h2>Sales Report</h2>
        <table class="items-table">
            <thead>
                <tr>
                    <th>Pending Stock Value (₹)</th>
                    <th>Total Stock Qty</th>
                    <th>Total Sales Till Date (₹)</th>
                    <th>Total Sales This Month (₹)</th>
                </tr>
            </thead>
            <tbody id="salesReportTableBody">
                <!-- Populated by JS -->
            </tbody>
        </table>
        <button class="btn" onclick="showHomePage()">Back to Home</button>
    </div>

    <!-- Stock Management Section -->
    <div id="stockSection" class="app-section" style="display:none; padding: 2rem;">
        <!-- Remove toggle button from here -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
            <h2>Stock Management</h2>
        </div>
        
        <!-- Add Stock Section -->
        <div id="addItemSection" style="margin-bottom: 2rem;">
            <div class="add-stock-form card-form">
                <div class="card-header">
                    <h2 style="margin: 0;">Add Stock</h2>
                    <button id="toggleStockSection" class="btn btn-primary" onclick="toggleStockSections()">Add New Item</button>
                </div>
                <form id="addExistingItemForm" class="add-item-form card-form" onsubmit="event.preventDefault(); addQuantityToExistingStock();">
                    <div class="form-row" style="display: flex; gap: 2rem;">
                        <div style="flex: 1;">
                            <div class="form-group">
                                <label for="existingStockItemName">Item Name</label>
                                <input type="text" id="existingStockItemNameInput" placeholder="Select or type item name" autocomplete="off" required>
                                <div id="existingStockItemDropdown" class="autocomplete-dropdown"></div>
                            </div>
                            <div class="form-group">
                                <label for="existingStockVendor">Vendor</label>
                                <input type="text" id="existingStockVendorInput" placeholder="Select or type vendor" autocomplete="off" required>
                                <div id="existingStockVendorDropdown" class="autocomplete-dropdown"></div>
                            </div>
                            <div class="form-group">
                                <label for="existingStockMRP">MRP</label>
                                <input type="number" id="existingStockMRP" step="0.01" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="existingStockPurchasePrice">Purchase Price</label>
                                <input type="number" id="existingStockPurchasePrice" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div style="flex: 1;">
                            <div class="form-group">
                                <label for="existingStockInvoice">Invoice Number</label>
                                <input type="text" id="existingStockInvoice" required>
                            </div>
                            <div class="form-group">
                                <label for="existingStockDate">Date</label>
                                <input type="date" id="existingStockDate" required>
                            </div>
                            <div class="form-group">
                                <label for="existingStockBrand">Brand</label>
                                <input type="text" id="existingStockBrand">
                            </div>
                            <div class="form-group">
                                <label for="existingStockAddQuantity">QTY</label>
                                <input type="number" id="existingStockAddQuantity" value="1" min="1" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-primary" type="submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Add New Stock Section -->
        <div id="addNewStockSection" style="display: none; margin-bottom: 2rem;">
            <div class="add-stock-form card-form">
                <div class="card-header">
                    <h2 style="margin: 0;">Add New Stock</h2>
                    <button id="toggleStockSection" class="btn btn-primary" onclick="toggleStockSections()">Add Stock</button>
                </div>
                <!-- Step 1: Main Product Form -->
                <form id="addStockFormStep1" class="add-stock-form card-form">
                    <div class="form-row" style="display: flex; gap: 2rem;">
                        <div style="flex: 1;">
                            <div class="form-group">
                                <label for="stockItemName">Item Name</label>
                                <input type="text" id="stockItemName" required>
                            </div>
                            <div class="form-group">
                                <label for="stockVendor">Vendor</label>
                                <input type="text" id="stockVendorInput" placeholder="Select or type vendor" autocomplete="off" required>
                                <div id="stockVendorDropdown" class="autocomplete-dropdown"></div>
                            </div>
                            <div class="form-group">
                                <label for="stockMRP">MRP</label>
                                <input type="number" id="stockMRP" step="0.01" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="stockPurchasedPrice">Purchase Price</label>
                                <input type="number" id="stockPurchasedPrice" step="0.01" min="0" required>
                            </div>
                        </div>
                        <div style="flex: 1;">
                            <div class="form-group">
                                <label for="stockInvoice">Invoice Number</label>
                                <input type="text" id="stockInvoice" required>
                            </div>
                            <div class="form-group">
                                <label for="stockDate">Date</label>
                                <input type="date" id="stockDate" required>
                            </div>
                            <div class="form-group">
                                <label for="stockBrand">Brand</label>
                                <input type="text" id="stockBrand">
                            </div>
                            <div class="form-group">
                                <label for="stockQuantity">QTY</label>
                                <input type="number" id="stockQuantity" value="1" min="1" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-primary" id="nextToConsumablesBtn" type="button">Next</button>
                    </div>
                </form>
                <!-- Step 2: Consumables Form -->
                <form id="addStockFormStep2" class="add-stock-form card-form" style="display:none;">
                    <h4>Consumables</h4>
                    <div class="form-row" style="display: flex; flex-wrap: wrap; gap: 2rem;">
                        <div style="flex: 1; min-width: 220px;">
                            <div class="form-group">
                                <label for="consumableGlass">Glass- 150 ML</label>
                                <input type="number" id="consumableGlass" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="consumableSpoon">Spoon</label>
                                <input type="number" id="consumableSpoon" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="consumableStirrer">Stirrer</label>
                                <input type="number" id="consumableStirrer" min="0" value="0">
                            </div>
                        </div>
                        <div style="flex: 1; min-width: 220px;">
                            <div class="form-group">
                                <label for="consumableNapkin">Napkin</label>
                                <input type="number" id="consumableNapkin" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="consumableFoilSmall">Aluminum foil container- SMALL</label>
                                <input type="number" id="consumableFoilSmall" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="consumableFoilBig">Aluminum foil container- BIG</label>
                                <input type="number" id="consumableFoilBig" min="0" value="0">
                            </div>
                        </div>
                    </div>
                    <div class="form-actions" style="display: flex; gap: 1rem;">
                        <button class="btn" id="backToProductBtn" type="button">Back</button>
                        <button class="btn btn-primary" id="submitNewStockBtn" type="submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Stock Table -->
        <div id="stockMessages"></div>
        <div class="section">
            <h2>Current Stock</h2>
            <table class="items-table stock-table">
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <th>Brand</th>
                        <th>MRP (₹)</th>
                        <th>Purchased Price (₹)</th>
                        <th>Quantity</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="stockTableBody">
                    <!-- Stock items will be populated here -->
                </tbody>
            </table>
        </div>
        
        <button class="btn" onclick="showHomePage()">Back to Home</button>
    </div>

    <!-- <script src="/js/script.js"></script> -->
</body>
</html>